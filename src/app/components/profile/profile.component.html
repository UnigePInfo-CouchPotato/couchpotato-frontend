<div class="h-100 d-flex flex-column justify-content-center">
  <div class="mx-auto page-container d-flex flex-column container-fluid">
    <div class="card card-heading">
      <h3 class="text-center">Profile</h3>
    </div>
    <div class="card p-3">
      <div class="d-flex flex-column justify-content-center">
        <div class="card p-2 text-center"><span>Username:</span> Bob</div>
      </div>
      <form [formGroup]="this.formData" class="d-flex flex-column p-2">
        <ng-container  formArrayName="genres">
          <div [formGroupName]="i" *ngFor="let _ of genres.controls; index as i" class="my-1">
            <ng-container>
              <div class="d-flex flex-row justify-content-between align-items-center p-1">
                <label class="tag tag-primary m-0" for="genre{{i}}">Genre {{ i + 1 }}:</label>
                <div>
                  <div class="btn btn-danger rounded m-1" (click)="removeFormControl(i)"><em class="fas fa-trash-alt"></em></div>
                </div>
              </div>

              <div class="d-flex flex-row justify-content-center align-items-center m-0">
                <ng-select
                  class="col-sm-12 px-1"
                  [items]="genresList"
                  (change)="onChangeState($event, i)"
                  bindLabel="name"
                  bindValue="genre">
                </ng-select>
              </div>
            </ng-container>
          </div>
        </ng-container>
      </form>
      <div class="d-flex justify-content-center align-items-center" *ngIf="this.numberOfAvailableGenres <= this.maxGenres">
        <div class="btn btn-primary rounded" (click)="addFormControl()"><em class="fa fa-plus"></em></div>
      </div>
      <br/>
      <div class="d-flex justify-content-center align-items-center">
        <div class="btn btn-success" (click)="onFormSubmit()">Set preferences.</div>
      </div>
    </div>
  </div>
</div>
